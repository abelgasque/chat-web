"use strict";(self.webpackChunksecurityapp=self.webpackChunksecurityapp||[]).push([[678],{3678:(A,c,s)=>{s.r(c),s.d(c,{ChannelModule:()=>B});var u=s(6895),o=s(3848),d=s(9299),h=s(8746),t=s(4650),p=s(529),v=s(2340),m=s(2720);let C=(()=>{class a{constructor(n,e){this.http=n,this.coreService=e,this.baseUrl=`${v.N.baseUrlApi}/v1/api/channel`}createAsync(n){const e=this.coreService.setHeadersBearer();return this.http.post(`${this.baseUrl}`,n,{headers:e})}readAsync(n){let e=new p.LE({fromObject:{page:n.page.toString(),pageSize:n.pageSize.toString()}});const r=this.coreService.setHeadersBearer();return this.http.get(`${this.baseUrl}`,{headers:r,params:e})}readByIdAsync(n){const e=this.coreService.setHeadersBearer();return this.http.get(`${this.baseUrl}/${n}`,{headers:e})}updateAsync(n){const e=this.coreService.setHeadersBearer();return this.http.put(`${this.baseUrl}`,n,{headers:e})}deleteByIdAsync(n){const e=this.coreService.setHeadersBearer();return this.http.delete(`${this.baseUrl}/${n}`,{headers:e})}}return a.\u0275fac=function(n){return new(n||a)(t.LFG(p.eN),t.LFG(m.p))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var g=s(7282),S=s(9430),y=s(5936);const b=[{path:"",component:(()=>{class a{constructor(n,e,r){this.service=n,this.sharedService=e,this.messagesService=r,this.tabLabel="Create",this.selectedTabIndex=0,this.channels=[]}ngOnInit(){this.columns=[{name:"name",label:"Name"},{name:"type",label:"Type"},{name:"lang",label:"Lang"},{name:"createdAt",label:"Date Create"},{name:"isActive",label:"Active"}],this.filters={page:1,pageSize:25}}setTab(n,e){this.selectedTabIndex=n,this.tabLabel=e}handlePage(n){this.filters=n,this.onRead()}onRead(){this.sharedService.openSpinner(),this.service.readAsync(this.filters).pipe((0,h.x)(()=>{this.sharedService.closeSpinner()})).subscribe({next:n=>{this.channels=n},error:n=>{this.messagesService.errorHandler(n)}})}onReadById(n){this.sharedService.openSpinner(),this.service.readByIdAsync(n).pipe((0,h.x)(()=>{this.sharedService.closeSpinner()})).subscribe({next:e=>{this.channel=e,this.setTab(1,"Edit")},error:e=>{this.messagesService.errorHandler(e)}})}onDelete(n){this.sharedService.openSpinner(),this.service.deleteByIdAsync(n).pipe((0,h.x)(()=>{const e=this.channels.findIndex(r=>r?.id===n);this.channels.splice(e,1)})).subscribe({next:e=>{this.onRead()},error:e=>{this.messagesService.errorHandler(e)}})}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(C),t.Y36(g.F),t.Y36(S.K))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-channel"]],decls:10,vars:8,consts:[["mat-align-tabs","start",3,"selectedIndex","selectedIndexChange"],["label","Search"],[3,"columns","data","totalRecords","eventRead","eventReadById","eventDeleteById"],[3,"label"]],template:function(n,e){1&n&&(t.TgZ(0,"mat-tab-group",0),t.NdJ("selectedIndexChange",function(i){return e.selectedTabIndex=i}),t.TgZ(1,"mat-tab",1)(2,"app-list",2),t.NdJ("eventRead",function(i){return e.handlePage(i)})("eventReadById",function(i){return e.onReadById(i)})("eventDeleteById",function(i){return e.onDelete(i)}),t.qZA()(),t.TgZ(3,"mat-tab",3)(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA()()()),2&n&&(t.Q6J("selectedIndex",e.selectedTabIndex),t.xp6(2),t.Q6J("columns",e.columns)("data",e.channels.data)("totalRecords",e.channels.total),t.xp6(1),t.Q6J("label",e.tabLabel),t.xp6(2),t.Oqu(null==e.channel?null:e.channel.name),t.xp6(2),t.Oqu(null==e.channel?null:e.channel.createdAt),t.xp6(2),t.Oqu(null==e.channel?null:e.channel.deletedAt))},dependencies:[o.SP,o.uX,y.n]}),a})()}];let f=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[d.Bz.forChild(b),d.Bz]}),a})();var I=s(2265);let B=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[u.ez,o.Nh,f,I.m]}),a})()}}]);