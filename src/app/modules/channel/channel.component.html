<mat-tab-group [(selectedIndex)]="selectedTabIndex" mat-align-tabs="start">
    <mat-tab label="Search">
        <app-list [columns]="columns" [data]="channels.data" [totalRecords]="channels.total"
            (eventRead)="handlePage($event)" (eventReadById)="onReadById($event)"
            (eventDeleteById)="onDelete($event)"></app-list>
    </mat-tab>
    <mat-tab [label]="tabLabel">
        <div class="container mt-4">
            <form [formGroup]="form" (ngSubmit)="onSubmit()" class="row g-3">

                <div class="col-md-6">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>ID</mat-label>
                        <input matInput formControlName="id" readonly>
                    </mat-form-field>
                </div>

                <div class="col-md-6">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Nome</mat-label>
                        <input matInput formControlName="name" required>
                        <mat-error *ngIf="form.get('name')?.hasError('required')">
                            Nome é obrigatório
                        </mat-error>
                    </mat-form-field>
                </div>

                <div class="col-md-6">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Tipo</mat-label>
                        <mat-select formControlName="type">
                            <mat-option [value]="0">Interno</mat-option>
                            <mat-option [value]="1">Email</mat-option>
                            <mat-option [value]="2">WhatsApp</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>

                <div class="col-md-6">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Linguagem</mat-label>
                        <input matInput formControlName="lang">
                    </mat-form-field>
                </div>

                <div class="col-md-12">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>URL</mat-label>
                        <input matInput formControlName="url">
                        <mat-error *ngIf="form.get('url')?.hasError('pattern')">
                            Informe uma URL válida (http ou https)
                        </mat-error>
                    </mat-form-field>
                </div>

                <div class="col-md-4">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Created At</mat-label>
                        <input matInput [matDatepicker]="picker1" formControlName="createdAt">
                        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                        <mat-datepicker #picker1></mat-datepicker>
                    </mat-form-field>
                </div>

                <div class="col-md-4">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Updated At</mat-label>
                        <input matInput [matDatepicker]="picker2" formControlName="updatedAt">
                        <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                        <mat-datepicker #picker2></mat-datepicker>
                    </mat-form-field>
                </div>

                <div class="col-md-4">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Deleted At</mat-label>
                        <input matInput [matDatepicker]="picker3" formControlName="deletedAt">
                        <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                        <mat-datepicker #picker3></mat-datepicker>
                    </mat-form-field>
                </div>

                <div class="col-12 text-end">
                    <button mat-raised-button color="warn" type="button" (click)="onCancel()">
                        Cancelar
                    </button>
                    <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid">
                        Salvar
                    </button>
                </div>
            </form>
        </div>
    </mat-tab>
</mat-tab-group>